# 编码规范

这章含括了当前Kotlin语言的编码风格。

**命名风格**

如有疑问，请遵循以下Java的编程约定：

 - 使用驼峰法命名（避免使用下划线）
 - 类型以大写字母开头
 - 方法和属性以小写字母开头
 - 使用4个空格缩进
 - 公共函数应该有和Kotlin文档中出现一样的文档

**冒号**

在分开子类和父类之间的冒号前面要有一个空格，而在分开实例和类型之间的冒号前面没有空格。

```
interface Foo<out T : Any> : Bar {
    fun foo(a: Int): T
}
```

**Lambda表达式**

在lambda表达式中，花括号旁边都要使用空格，和属性和函数体的箭头一样。尽可能把lambda从括号外面传入。

```
list.filter { it > 10 }.map { element -> element * 2 }
```

在简短且非嵌套的lambda表达式中，建议使用`it`约定代替显示声明参数。在带有参数的嵌套lambda表达式中，参数应该总是显示声明的。

**类的头部格式**

带有一些参数的类可以写成一行：

```
class Person(id: Int, name: String)
```

头部很长的类应该格式化成每个构造函数里的参数都应该单独一行分开。而且，结束括号应该另起新的一行。如果我们用到继承，则父类的构造函数调用或者实现接口列表应该跟结束括号处在同一行:

```
class Person(
    id: Int, 
    name: String,
    surname: String
) : Human(id, name) {
    // ...
}
```

对于实现多个接口，则父类构造函数应该放在第一行，然后再是每个接口单独一行：

```
class Person(
    id: Int, 
    name: String,
    surname: String
) : Human(id, name),
    KotlinMaker {
    // ...
}
```

构造函数参数可以使用常规缩进和连续缩进（双倍常规缩进）。

**Unit**

在返回Unit的函数中，返回类型可以省略掉：

```
fun foo() { // ": Unit"在这里被省略掉了

}
```

**函数和属性**

在某些情况下，无参数函数可以与只读属性交换。尽管语义是相似的，但是有一些风格上的约定存在在什么时候更偏向另外一个。

在以下情况中，更偏向属性，而不是函数：

 - 不抛出异常
 - 有`O(1)`复杂度
 - 计算简单（或者在首次运行时就缓存了）
 - 返回和经过调用后一样的结果